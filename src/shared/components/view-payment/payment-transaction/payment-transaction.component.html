<section class="payment-detail-container">
  <nz-spin class="payment-detail-spin-container" [nzSpinning]="isSpinning">
    <section nz-row nzGutter="30">
      <section nz-col [nzSpan]="24">
        <section class="table-container pl-4">
          <hr>
          <h5>Payment Transaction</h5>
          <app-general-table *ngIf="columns?.length" [tableData]="paymentTransactionCopy"
            [showColShowHide]="false" [customHeaderOptions]="columns" [customTemplate]="custom"
            [tableActionButtons]="tableActionButtons" [totalRecords]="paymentTransactionCopy?.length" [tableConfig]="tableConfig"
            [customPaginationData]="paginationData" (paginatedData)="onPaginationChange($event)"
            (editRow)="onRowEditClick($event)"  (eEmitSelectedDate)="onDateFilter($event)" (eEmitSearchInput)="onSearchInput($event)">
          </app-general-table>
        </section>
      </section>
    </section>
  </nz-spin>
</section>

<ng-template #custom let-data="data" let-key="key">
  <span *ngIf="key.columnMap == 'status'">
    <nz-tag *ngIf="data[key.columnMap].toLowerCase() == 'success'" nzColor="green">{{ data[key.columnMap] | uppercase }}
    </nz-tag>
    <nz-tag *ngIf="data[key.columnMap].toLowerCase() == 'failed'" nzColor="red">{{ data[key.columnMap] | uppercase }}
    </nz-tag>
  </span>
</ng-template>


<!-- 
<ng-template #custom let-data="data" let-key="key">
  <span *ngIf="key.columnMap === 'jobType.name'">
    {{data?.jobType?.name || '-' | titlecase}}
  </span>
  <span *ngIf="key.columnMap === 'startDate'">
    {{data[key.columnMap] || '-' | date : defaultDateFormat}}
  </span>
  <span *ngIf="key.columnMap === 'startTime'">
    {{getFormattedTime(data[key.columnMap] || '-')}}
  </span>
  <span *ngIf="key.columnMap === 'tags.name'">
    <span *ngFor="let item of data?.tags let i = index">
      <span *ngIf="i === data?.tags?.length - 1">
        {{item.name | titlecase}}
      </span>
      <span *ngIf="i < data?.tags?.length - 1">
        {{item.name | titlecase}},
      </span>
    </span>
    <span *ngIf="!data?.tags?.length">
      -
    </span>
  </span>
  <span *ngIf="key.columnMap === 'project.technicians'">
    <span *ngFor="let item of data?.technicians let i = index">
      <span *ngIf="i === data?.technicians?.length - 1">
        {{item.fullName | titlecase}}
      </span>
      <span *ngIf="i < data?.technicians?.length - 1">
        {{item.fullName | titlecase}},
      </span>
    </span>
    <span *ngIf="!data?.technicians?.length">
      -
    </span>
  </span>
  <span *ngIf="key.columnMap === 'summary'">
    {{data[key.columnMap] || '-' | firstLetterCapital}}
  </span>
  <span *ngIf="key.columnMap== 'status'">
    {{data[key.columnMap] | titlecase }}
  </span>

  <ng-container *permission="viewButtonPermission">
    <span *ngIf="key.columnMap === 'action'">
      <a>
        <i nz-tooltip nzTooltipTitle="View" nz-icon nzType="eye" class="mr-2" nzTheme="outline"
          (click)="onRowViewClick(data)">
        </i>
      </a>
    </span>
  </ng-container>
  <ng-container *permission="editButtonPermission">
    <ng-container *ngIf="!allNonEditableStatus.includes(data['status'])">
      <span *ngIf="key.columnMap === 'action'">
        <a>
          <i nz-tooltip nzTooltipTitle="Edit" nz-icon nzType="edit" nzTheme="outline"
            (click)="onRowEditClick(data)"></i>
        </a>
      </span>
    </ng-container>
  </ng-container>
</ng-template> -->

